{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Cooking","text":""},{"location":"#features","title":"Features","text":""},{"location":"#grocery-generation","title":"Grocery generation","text":"<p>Users can set up a list of all the meals they intend to consume during the week. This comprehends breakfast, launch, and dinner, and additional snacks. Moreover, the user can also select a set of week days in which it is available to go and buy groceries.</p> <p>The AI assistant then takes over, generating a groceries list for each of the selected days, so that what's bought will fulfill the whole preparation of the days-after meals, ingredient-wise.</p>"},{"location":"#suggestions-creation","title":"Suggestions creation","text":"<p>Often times people forget to plan ahead what to eat, and what's home feels either insufficient or unenjoyable. It is possible for users to prompt the AI assistant telling which ingredients are available in the house, for then receiving a set of possible meal ideas plausible to prepare and eat.</p>"},{"location":"#usage","title":"Usage","text":"<p>The user will be able to use the app via the browser, and therefore it must be connected to the internet to be able to interact with the AI assistant, and to view its data. A minimal UI will provide easy access to the main sections/pages:</p> <ul> <li>a page for inserting the week's meals and generating/viewing the groceries   list;</li> <li>a page for inserting which ingredients the user has available and for then   requesting meal ideas;</li> <li>a page for inserting extra info about user's eating habits and for performing   other account actions.</li> </ul>"},{"location":"api/","title":"REST API contracts","text":"<p><code>POST /signin/apple</code> <code>POST /signin/google</code> <code>GET /groceries</code> <code>DELETE /groceries</code> <code>POST /groceries</code> <code>DELETE /groceries/{itemID}</code> <code>PATCH /groceries/{itemID}</code> <code>POST /groceries/check</code> <code>POST /groceries/generate</code> <code>GET /plans</code> <code>DELETE /plans/{planNR}</code> <code>POST /meals</code> <code>DELETE /meals/{itemID}</code> <code>PATCH /meals/{itemID}</code> <code>GET /ingredients</code> <code>DELETE /ingredients</code> <code>POST /ingredients</code> <code>DELETE /ingredients/{itemID}</code> <code>PATCH /ingredients/{itemID}</code> <code>POST /ingredients/import</code> <code>POST /ideas/generate</code> <code>GET /ideas</code> <code>DELETE /ideas</code> <code>GET /preferences</code> <code>PUT /preferences</code> <code>GET /tasks/{taskID}</code> <code>DELETE /data</code> <code>DELETE /sessions</code> <code>DELETE /user</code></p>"},{"location":"api/#sign-in","title":"Sign in","text":""},{"location":"api/#apple-sign-in","title":"Apple sign in","text":"<p>Send ID token received from Apple ID provider and, if valid, get back a JWT token relative to the newly created session for the user.</p> <p>Request</p> <pre><code>POST /signin/apple\n</code></pre> <pre><code>{\n    \"idToken\": string\n}\n</code></pre> <p>Response</p> <ul> <li>200: user authenticated successfully</li> <li>400: invalid ID token</li> </ul> <pre><code>{\n    \"jwtToken\": string\n}\n</code></pre>"},{"location":"api/#google-sign-in","title":"Google sign in","text":"<p>Send ID token received from Google ID provider and, if valid, get back a JWT token relative to the newly created session for the user.</p> <p>Request</p> <pre><code>POST /signin/google\n</code></pre> <pre><code>{\n    \"idToken\": string\n}\n</code></pre> <p>Response</p> <ul> <li>200: user authenticated successfully</li> <li>400: invalid ID token</li> </ul> <pre><code>{\n    \"jwtToken\": string\n}\n</code></pre>"},{"location":"api/#groceries","title":"Groceries","text":""},{"location":"api/#get-groceries-list","title":"Get groceries list","text":"<p>Get the list of all items in the groceries list of each week day.</p> <p>Items are returned in a dictionary where the item IDs are the key for an object with other item's data. Week day is represented as an integer between 0 and 6.</p> <p>Request</p> <pre><code>GET /groceries\n</code></pre> <p>Response</p> <ul> <li>200: grocery items found</li> </ul> <pre><code>{\n    \"groceries\": {\n        \"id-1\": {\n            \"description\": string,\n            \"weekDay\": int,\n            \"checked\": bool\n        },\n        \"id-2\": {\n            \"description\": string,\n            \"weekDay\": int,\n            \"checked\": bool\n        }\n    }\n}\n</code></pre>"},{"location":"api/#clear-groceries","title":"Clear groceries","text":"<p>Delete all items in the user's groceries list. This request is idempotent: it doesn't fail if list is already empty.</p> <p>Request</p> <pre><code>DELETE /groceries\n</code></pre> <p>Response</p> <ul> <li>204: all items deleted successfully</li> </ul>"},{"location":"api/#add-new-item","title":"Add new item","text":"<p>Add a new element manually in the groceries list.</p> <p>Week day must be represented by an integer between 0 and 6.</p> <p>Request</p> <pre><code>POST /groceries\n</code></pre> <pre><code>{\n    \"description\": string,\n    \"weekDay\": int\n}\n</code></pre> <p>Response</p> <ul> <li>201: new item created</li> <li>400: invalid field</li> </ul> <pre><code>{\n    \"itemID\": string\n}\n</code></pre>"},{"location":"api/#delete-item","title":"Delete item","text":"<p>Delete an item from the groceries list.</p> <p>Request</p> <pre><code>DELETE /groceries/{itemID}\n</code></pre> <p>Response</p> <ul> <li>204: item deleted successfully</li> <li>404: item not found</li> </ul>"},{"location":"api/#edit-item-state","title":"Edit item state","text":"<p>Edit fields of an item in the groceries list. Fields may be the description, or the check-box state. Omitted fields are ignored (not updated).</p> <p>Request</p> <pre><code>PATCH /groceries/{itemID}\n</code></pre> <pre><code>{\n    \"description\": string,\n    \"checked\": bool\n}\n</code></pre> <p>Response</p> <ul> <li>204: fields updated successfully</li> <li>400: invalid field</li> <li>404: item not found</li> </ul>"},{"location":"api/#check-or-uncheck-all-items","title":"Check or uncheck all items","text":"<p>Check or uncheck all items in the user's groceries list in bulk. This request is idempotent: if all items are already checked/unchecked it doesn't fail.</p> <p>Request</p> <pre><code>POST /groceries/check\n</code></pre> <pre><code>{\n    \"check\": bool\n}\n</code></pre> <p>Response</p> <ul> <li>204: operation successful</li> </ul>"},{"location":"api/#generate-items-with-ai","title":"Generate items with AI","text":"<p>Based on input data (available days, chosen plan and extra infos) and based on user data in the backend (meals plan and preferences), a task for generating a list of grocery items with AI is started.</p> <p>Generated items are not returned: to see the updated items list use the get groceries request when the operation concludes. To check the status of the task it is possible to poll the get status request with the returned task ID.</p> <p>In the request schema, available days are represented as a list of integers, where Monday is 0 and Sunday is 6. To select a plan, the plan number (1 to 4) is sufficient, as the plan items are retrieved by the backend autonomously from the DB. Unplanned meals must be provided as a list of strings containing the meal description. Extra textual information is provided with a single string. If replace field is false, old items in the groceries list aren't deleted and new ones are simply appended.</p> <p>Request</p> <pre><code>POST /groceries/generate\n</code></pre> <pre><code>{\n    \"days\": [ int ],\n    \"plan\": int,\n    \"unplanned\": [ string ],\n    \"extra\": string,\n    \"replace\": bool\n}\n</code></pre> <p>Response</p> <ul> <li>202: generation task initialized</li> <li>400: invalid field</li> <li>404: plan not found (empty)</li> <li>409: a generation task is already executing for the user</li> <li>429: computation limit reached</li> </ul> <pre><code>{\n    \"taskID\": string\n}\n</code></pre>"},{"location":"api/#plans","title":"Plans","text":""},{"location":"api/#get-plans","title":"Get plans","text":"<p>Get the weekly meals plans of the user.</p> <p>Plans are returned in a dictionary where the key is the plan number shown in the UI (1-4). Each plan is itself a dictionary where the item IDs are the key for an object i with other item's data. Items' icon identifies the Unicode value of an emoji. Week day is represented as an integer between 0 and 6. Empty plans are omitted.</p> <p>Request</p> <pre><code>GET /plans\n</code></pre> <p>Response</p> <ul> <li>200: plans found</li> </ul> <pre><code>{\n    \"1\": {\n        \"id-1\": {\n            \"description\": string,\n            \"icon\": string,\n            \"weekDay\": int\n        },\n        \"id-2\": {\n            \"description\": string,\n            \"icon\": string,\n            \"weekDay\": int\n        }\n    },\n    \"2\": {\n        \"id-3\": {\n            \"description\": string,\n            \"icon\": string,\n            \"weekDay\": int\n        }\n    }\n}\n</code></pre>"},{"location":"api/#delete-plan","title":"Delete plan","text":"<p>Clear the user's meals plan with the provided number (1-4). This request is idempotent: if the plan was already empty no error is returned.</p> <p>Request</p> <pre><code>DELETE /plans/{planNR}\n</code></pre> <p>Response</p> <ul> <li>204: plan deleted successfully</li> </ul>"},{"location":"api/#meals","title":"Meals","text":""},{"location":"api/#add-meal-to-plan","title":"Add meal to plan","text":"<p>Create a new meal in a plan.</p> <p>Items' icon must identify the Unicode value of an emoji. Week day must be represented by an integer between 0 and 6. The plan in which to add the meal is identified by a number from 1 to 4.</p> <p>Request</p> <pre><code>POST /meals\n</code></pre> <pre><code>{\n    \"description\": string,\n    \"icon\": string,\n    \"weekDay\": int,\n    \"plan\": int\n}\n</code></pre> <p>Response</p> <ul> <li>201: new item created</li> <li>400: invalid field</li> </ul> <pre><code>{\n    \"itemID\": string\n}\n</code></pre>"},{"location":"api/#delete-meal-from-plan","title":"Delete meal from plan","text":"<p>Delete a meal from its plan.</p> <p>Request</p> <pre><code>DELETE /meals/{itemID}\n</code></pre> <p>Response</p> <ul> <li>204: meal deleted successfully</li> <li>404: meal not found</li> </ul>"},{"location":"api/#edit-meal-state","title":"Edit meal state","text":"<p>Edit the description or the emoji of a meal. Omitted fields are ignored (not updated).</p> <p>Request</p> <pre><code>PATCH /meals/{itemID}\n</code></pre> <pre><code>{\n    \"description\": string,\n    \"icon\": string\n}\n</code></pre> <p>Response</p> <ul> <li>204: fields updated successfully</li> <li>400: invalid field</li> <li>404: meal not found</li> </ul>"},{"location":"api/#ingredients","title":"Ingredients","text":""},{"location":"api/#get-pantry-ingredients","title":"Get pantry ingredients","text":"<p>Get the list of ingredients already available in the pantry.</p> <p>Items are returned in a dictionary where the item IDs are the key for an object with other item's data.</p> <p>Request</p> <pre><code>GET /ingredients\n</code></pre> <p>Response</p> <ul> <li>200: pantry ingredient found</li> </ul> <pre><code>{\n    \"ingredients\": {\n        \"id-1\": {\n            \"description\": string\n        },\n        \"id-2\": {\n            \"description\": string\n        }\n    }\n}\n</code></pre>"},{"location":"api/#clear-pantry-ingredients","title":"Clear pantry ingredients","text":"<p>Empty the list of available ingredients in the pantry. This request is idempotent: if the list is already empty, no error arises.</p> <p>Request</p> <pre><code>DELETE /ingredients\n</code></pre> <p>Response</p> <ul> <li>204: all elements deleted</li> </ul>"},{"location":"api/#add-new-ingredient","title":"Add new ingredient","text":"<p>Add a new item in the pantry ingredients list.</p> <p>Request</p> <pre><code>POST /ingredients\n</code></pre> <pre><code>{\n    \"description\": string\n}\n</code></pre> <p>Response</p> <ul> <li>201: new item created</li> <li>400: invalid field</li> </ul> <pre><code>{\n    \"itemID\": string\n}\n</code></pre>"},{"location":"api/#delete-ingredient","title":"Delete ingredient","text":"<p>Delete an item from the pantry ingredients list.</p> <p>Request</p> <pre><code>DELETE /ingredients/{itemID}\n</code></pre> <p>Response</p> <ul> <li>204: item deleted successfully</li> <li>404: item not found</li> </ul>"},{"location":"api/#edit-ingredient-state","title":"Edit ingredient state","text":"<p>Edit the description of an item in the pantry ingredients list.</p> <p>Request</p> <pre><code>PATCH /ingredients/{itemID}\n</code></pre> <pre><code>{\n    \"description\": string\n}\n</code></pre> <p>Response</p> <ul> <li>204: field updated successfully</li> <li>400: invalid field</li> <li>404: item not found</li> </ul>"},{"location":"api/#import-from-groceries","title":"Import from groceries","text":"<p>Take all items in the groceries list where the check-box is ticked and import them into the pantry ingredients list. Items with the same description are not duplicated. This request is idempotent: if no new item to be imported is found, no error arises.</p> <p>Request</p> <pre><code>POST /ingredients/import\n</code></pre> <p>Response</p> <ul> <li>204: operation successful</li> </ul>"},{"location":"api/#ideas","title":"Ideas","text":""},{"location":"api/#get-ideas","title":"Get ideas","text":"<p>Get the list of previously generated meal suggestions (ideas). If ideas list was never generated or if it was cleared (thus absent) no error arises but the returned JSON payload doesn't contain the ideas key, thus being empty (<code>{}</code>).</p> <p>Request</p> <pre><code>GET /ideas\n</code></pre> <p>Response</p> <ul> <li>200: data returned successfully</li> </ul> <pre><code>{\n    \"ideas\": [\n        {\n            \"name\": string,\n            \"story\": string,\n            \"icon\": string\n        },\n        {\n            \"name\": string,\n            \"story\": string,\n            \"icon\": string\n        }\n    ]\n}\n</code></pre>"},{"location":"api/#clear-ideas","title":"Clear ideas","text":"<p>Clear (delete) the ideas list. This request is idempotent: if the list was already empty no error is returned.</p> <p>Request</p> <pre><code>DELETE /ideas\n</code></pre> <p>Response</p> <ul> <li>204: list deleted successfully</li> </ul>"},{"location":"api/#generate-ideas-with-ai","title":"Generate ideas with AI","text":"<p>Starting from the list if ingredients found in the pantry and based on the user's preferences (already available in the backend), a task for generating a list of meal ideas with AI is started. Old ideas are deleted.</p> <p>Generated ideas are not returned: to see the new ideas list use the get ideas request when the operation concludes. To check the status of the task it is possible to poll the get status request with the returned task ID.</p> <p>Request</p> <pre><code>POST /ideas/generate\n</code></pre> <p>Response</p> <ul> <li>202: generation task initialized</li> <li>404: ingredients not found (empty list)</li> <li>409: a generation task is already executing for the user</li> <li>429: computation limit reached</li> </ul> <pre><code>{\n    \"taskID\": string\n}\n</code></pre>"},{"location":"api/#preferences","title":"Preferences","text":""},{"location":"api/#get-user-preferences","title":"Get user preferences","text":"<p>Get the textual description of user's preferences. An empty string is valid content, meaning that if the user has not set it, an empty string is returned with the preferences key.</p> <p>Request</p> <pre><code>GET /preferences\n</code></pre> <p>Response</p> <ul> <li>200: data returned successfully</li> </ul> <pre><code>{\n    \"preferences\": string\n}\n</code></pre>"},{"location":"api/#update-user-preferences","title":"Update user preferences","text":"<p>Set a new textual description of user's preferences. An empty string is valid content, therefore this request can be used also to unset it, by sending an empty string with the preferences key.</p> <p>Request</p> <pre><code>PUT /preferences\n</code></pre> <pre><code>{\n    \"preferences\": string\n}\n</code></pre> <p>Response</p> <ul> <li>204: preferences set successfully</li> <li>400: invalid field</li> </ul>"},{"location":"api/#tasks","title":"Tasks","text":""},{"location":"api/#get-task-status","title":"Get task status","text":"<p>The status of ongoing tasks in the server (such as content generation with AI) can be retrieved by polling this request. Please poll after at least 2 seconds of delay.</p> <p>The status of a task is represented by an integer.</p> <ul> <li>-1: task failed</li> <li>0: task is still running</li> <li>1: task completed successfully</li> </ul> <p>Request</p> <pre><code>GET /tasks/{taskID}\n</code></pre> <p>Response</p> <ul> <li>200: task found</li> <li>404: task not found</li> </ul> <pre><code>{\n    \"status\": int\n}\n</code></pre>"},{"location":"api/#account","title":"Account","text":""},{"location":"api/#clear-all-user-data","title":"Clear all user data","text":"<p>Delete all content registered with the user profile (without deleting the account itself). This is a way to \"reset\" a user profile. This request is idempotent: it doesn't fail if user profile is already clear of all its data.</p> <p>Request</p> <pre><code>DELETE /data\n</code></pre> <p>Response</p> <ul> <li>204: operation successful</li> </ul>"},{"location":"api/#delete-all-active-sessions","title":"Delete all active sessions","text":"<p>All active sessions of the user are deleted for all devices in which it had signed in, essentially making all previously issued JWT tokens of the user invalid. This means that the user is required to authenticate again on all devices.</p> <p>Request</p> <pre><code>DELETE /sessions\n</code></pre> <p>Response</p> <ul> <li>204: operation successful</li> </ul>"},{"location":"api/#delete-user-account","title":"Delete user account","text":"<p>The user profile is deleted alongside all its data.</p> <p>Request</p> <pre><code>DELETE /user\n</code></pre> <p>Response</p> <ul> <li>204: operation successful</li> </ul>"}]}